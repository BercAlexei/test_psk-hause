(function(t){function s(s){for(var e,i,o=s[0],c=s[1],r=s[2],u=0,d=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(t[e]=c[e]);p&&p(s);while(d.length)d.shift()();return l.push.apply(l,r||[]),a()}function a(){for(var t,s=0;s<l.length;s++){for(var a=l[s],e=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(e=!1)}e&&(l.splice(s--,1),t=i(i.s=a[0]))}return t}var e={},n={app:0},l=[];function i(s){if(e[s])return e[s].exports;var a=e[s]={i:s,l:!1,exports:{}};return t[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,s,a){i.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,s){if(1&s&&(t=i(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var e in t)i.d(a,e,function(s){return t[s]}.bind(null,e));return a},i.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(s,"a",s),s},i.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},i.p="/test_psk-hause/dist/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=s,o=o.slice();for(var r=0;r<o.length;r++)s(o[r]);var p=c;l.push([0,"chunk-vendors"]),a()})({0:function(t,s,a){t.exports=a("56d7")},"07a0":function(t,s,a){"use strict";a("7295")},"56d7":function(t,s,a){"use strict";a.r(s);var e=a("2b0e"),n=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"head"},[s("div",{staticClass:"container"},[s("div",{staticClass:"head__wrapper"},[s("select",{attrs:{name:"house",id:"house"},on:{change:function(s){return t.selectHouse(s.target.value)}}},t._l(t.data.houses,(function(a,e){return s("option",{key:e,domProps:{value:a,selected:0===e}},[t._v(" Дом № "+t._s(e+1)+" ")])})),0),t._m(0)])])]),s("section",{staticClass:"chess"},[s("div",{staticClass:"container"},[s("div",{staticClass:"chess__wrapper"},t._l(t.curHouse,(function(t,a){return s("Entrance",{key:a,attrs:{entrance:t}})})),1)])])])},l=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"legends"},[s("div",{staticClass:"legends__title"},[t._v("Легенда:")]),s("div",{staticClass:"legends__block"},[s("div",{staticClass:"legend legend_free"}),s("span",{staticClass:"legend__description"},[t._v("- свободно;")])]),s("div",{staticClass:"legends__block"},[s("div",{staticClass:"legend legend_sales"}),s("span",{staticClass:"legend__description"},[t._v("- выданы ключи;")])]),s("div",{staticClass:"legends__block"},[s("div",{staticClass:"legend legend_treaty"}),s("span",{staticClass:"legend__description"},[t._v("- договор;")])]),s("div",{staticClass:"legends__block"},[s("div",{staticClass:"legend legend_booking"}),s("span",{staticClass:"legend__description"},[t._v("- бронь;")])]),s("div",{staticClass:"legends__block"},[s("div",{staticClass:"legend legend_decor"}),s("span",{staticClass:"legend__description"},[t._v("- оформление;")])]),s("div",{staticClass:"legends__block"},[s("div",{staticClass:"legend legend_non-residential"}),s("span",{staticClass:"legend__description"},[t._v("- нежилое;")])]),s("div",{staticClass:"legends__block"},[s("div",{staticClass:"legend legend_additionally"}),s("span",{staticClass:"legend__description"},[t._v("- с предложениями.")])])])}],i=a("2f62"),o=function(){var t=this,s=t._self._c;return s("div",{staticClass:"entrance"},[t._l(t.entrance.floors,(function(a,e){return s("div",{key:e,staticClass:"entrance__floors"},[s("div",{staticClass:"entrance__floor"},[t._v(t._s(a.floor))]),t._l(a.flats,(function(t,a){return s("Cell",{key:a,attrs:{id:t.id}})}))],2)})),s("div",{staticClass:"entrance__title"},[t._v(" "+t._s(t.entrance.title)+" ")])],2)},c=[],r=function(){var t=this,s=t._self._c;return s("button",{staticClass:"cell",class:{cell_sales:"Выданы ключи"===t.getDataFlat.status,cell_decor:"Оформление"===t.getDataFlat.status,cell_booking:"Бронь"===t.getDataFlat.status,cell_treaty:"Договор"===t.getDataFlat.status,"cell_non-residential":"Нежилые помещения"===t.getDataFlat.type,cell_additionally:t.getDataFlat.renovation||t.getDataFlat.marginal||t.getDataFlat.installment||t.getDataFlat.subsidy},on:{click:function(s){return t.showPopup(t.id)}}},[t._v(" "+t._s(t.getDataFlat.plan_type)+" "),t.curFloor===t.id?s("Popup",{attrs:{data:t.getDataFlat}}):t._e()],1)},p=[],u=function(){var t=this,s=t._self._c;return s("div",{staticClass:"popup"},[s("div",{staticClass:"popup__title"}),s("div",{staticClass:"popup__content"},[s("div",{staticClass:"popup__block"},[s("span",{staticClass:"popup__subtitle"},[t._v("Тип: ")]),t._v(t._s(t.data.type)+" ")]),s("div",{staticClass:"popup__block"},[s("span",{staticClass:"popup__subtitle"},[t._v("Цена: ")]),t._v(t._s(t.data.cost.toLocaleString("ru-RU"))+" ")]),s("div",{staticClass:"popup__block"},[s("span",{staticClass:"popup__subtitle"},[t._v("Этаж: ")]),t._v(" "+t._s(t.data.floor)+" ")]),s("div",{staticClass:"popup__block"},[s("span",{staticClass:"popup__subtitle"},[t._v("Номер квартиры: ")]),t._v(" "+t._s(t.data.number)+" ")]),s("div",{staticClass:"popup__block"},[s("span",{staticClass:"popup__subtitle"},[t._v("Статус: ")]),t._v(" "+t._s(t.data.status)+" ")]),s("div",{staticClass:"popup__block"},[s("span",{staticClass:"popup__subtitle"},[t._v("Планировка: ")]),t._v(" "+t._s(t.data.plan_type)+" ")]),s("div",{staticClass:"popup__block"},[s("span",{staticClass:"popup__subtitle"},[t._v("Площадь: ")]),t._v(" "+t._s(t.data.square)+" ")]),s("div",{staticClass:"popup__block"},[s("span",{staticClass:"popup__subtitle"},[t._v("Cубсидированная : ")]),t.data.subsidy?s("span",[t._v("Да")]):s("span",[t._v("Нет")])]),s("div",{staticClass:"popup__block"},[s("span",{staticClass:"popup__subtitle"},[t._v("Маржинальная : ")]),t.data.marginal?s("span",[t._v("Да")]):s("span",[t._v("Нет")])]),s("div",{staticClass:"popup__block"},[s("span",{staticClass:"popup__subtitle"},[t._v("С ремонтом: ")]),t.data.renovation?s("span",[t._v("Да")]):s("span",[t._v("Нет")])]),s("div",{staticClass:"popup__block"},[s("span",{staticClass:"popup__subtitle"},[t._v("С рассрочкой: ")]),t.data.installment?s("span",[t._v("Да")]):s("span",[t._v("Нет")])])])])},d=[],_={data(){return{scrollWidth:!1,scrollHeight:!1}},props:{data:{type:Object}}},v=_,f=(a("740f"),a("2877")),b=Object(f["a"])(v,u,d,!1,null,"2453da47",null),g=b.exports,C={components:{Popup:g},props:{id:{type:String}},computed:{...Object(i["d"])(["data","curFloor"]),getDataFlat(){let t;for(let s in this.data.flats)s===this.id&&(t=this.data.flats[s]);return t}},methods:{...Object(i["c"])(["showPopup"])}},h=C,y=(a("07a0"),Object(f["a"])(h,r,p,!1,null,"aebdce4a",null)),k=y.exports,w={components:{Cell:k},props:{entrance:{type:Object,require:!0}}},m=w,j=(a("6f9b"),Object(f["a"])(m,o,c,!1,null,"43e1e5c8",null)),O=j.exports,D={components:{Entrance:O},computed:{...Object(i["d"])(["data","curHouse"])},methods:{...Object(i["c"])(["updateData","selectHouse","hiddenPopup"]),...Object(i["b"])(["getData"])},async created(){await this.getData().then(async t=>{if(200===t.status){const s=await t.json();this.updateData(s),this.selectHouse(s.houses[0])}}).catch(t=>{console.log(t),alert("Что-то пошло не так! Попробуйте повторить попытку попозже!")}),window.addEventListener("click",t=>{t.target.classList.contains("cell")||this.hiddenPopup()}),window.addEventListener("keyup",t=>{"Escape"===t.code&&this.hiddenPopup()})}},F=D,P=(a("8b12"),Object(f["a"])(F,n,l,!1,null,null,null)),x=P.exports;e["a"].use(i["a"]);var H=new i["a"].Store({state:{data:[],curHouse:[],curFloor:""},getters:{},mutations:{updateData(t,s){t.data=s},selectHouse(t,s){t.curHouse=[],t.curHouse=t.data.entrances.filter(t=>t.house_id===s)},showPopup(t,s){t.curFloor=s},hiddenPopup(t){t.curFloor=""}},actions:{async getData(){const t=await fetch("data.json");return t}}});e["a"].config.productionTip=!1,new e["a"]({store:H,render:t=>t(x)}).$mount("#app")},"68d2":function(t,s,a){},"6f9b":function(t,s,a){"use strict";a("733c")},7295:function(t,s,a){},"733c":function(t,s,a){},"740f":function(t,s,a){"use strict";a("68d2")},"8b12":function(t,s,a){"use strict";a("b619")},b619:function(t,s,a){}});
//# sourceMappingURL=app.11586385.js.map